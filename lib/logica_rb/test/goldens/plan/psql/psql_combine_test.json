{
 "config": [
  {
   "action": {
    "engine": "psql",
    "launcher": "query",
    "predicate": "Test",
    "sql": "WITH t_1_T AS (SELECT * FROM (\n  \n    SELECT\n      1 AS col0 UNION ALL\n  \n    SELECT\n      2 AS col0 UNION ALL\n  \n    SELECT\n      3 AS col0 UNION ALL\n  \n    SELECT\n      4 AS col0\n) AS UNUSED_TABLE_NAME  ),\nt_6_R AS (SELECT\n  t_7_T.col0 AS col0,\n  CASE WHEN ((t_7_T.col0 = 2) OR (t_7_T.col0 = 3)) THEN ARRAY[t_7_T.col0]::numeric[] ELSE ARRAY[]::numeric[] END AS col1\nFROM\n  t_1_T AS t_7_T),\nt_2_P2 AS (SELECT\n  t_3_T.col0 AS col0,\n  ARRAY_AGG(x_29 order by x_29) AS col1\nFROM\n  t_1_T AS t_3_T, t_6_R AS R, UNNEST(ARRAY[1, 2, 3, 4]::numeric[]) as x_29\nWHERE\n  (CAST((SELECT\n    MIN((CASE WHEN x_45 = 0 THEN 1 ELSE NULL END)) AS logica_value\n  FROM\n    UNNEST(R.col1) as x_44, UNNEST(ARRAY[0]::numeric[]) as x_45\n  WHERE\n    (x_29 = x_44)) AS numeric) IS NULL) AND\n  (R.col0 = t_3_T.col0)\nGROUP BY t_3_T.col0)\nSELECT * FROM (\n  \n    SELECT\n      'test1' AS col0,\n      T.col0 AS col1,\n      CAST((SELECT\n      ARRAY_AGG(((CASE WHEN x_11 = 0 THEN ROW(T.col0, T.col0)::logicarecord884343024 ELSE NULL END)).value order by ((CASE WHEN x_11 = 0 THEN ROW(T.col0, T.col0)::logicarecord884343024 ELSE NULL END)).arg) AS logica_value\n    FROM\n      UNNEST(ARRAY[0]::numeric[]) as x_11) AS numeric[]) AS col2\n    FROM\n      t_1_T AS T UNION ALL\n  \n    SELECT\n      'test2' AS col0,\n      P2.col0 AS col1,\n      P2.col1 AS col2\n    FROM\n      t_2_P2 AS P2\n) AS UNUSED_TABLE_NAME  ORDER BY col0, col1 "
   },
   "name": "Test",
   "requires": [],
   "type": "final"
  }
 ],
 "data_dependency_edges": [],
 "dependency_edges": [],
 "engine": "psql",
 "final_predicates": [
  "Test"
 ],
 "iterations": {},
 "outputs": [
  {
   "kind": "table",
   "node": "Test",
   "predicate": "Test"
  }
 ],
 "preambles": [
  "-- Initializing PostgreSQL environment.\nset client_min_messages to warning;\ncreate schema if not exists logica_home;\n-- Empty logica type: logicarecord893574736;\nDO $$ BEGIN if not exists (select 'I(am) :- I(think)' from pg_type where typname = 'logicarecord893574736') then create type logicarecord893574736 as (nirvana numeric); end if; END $$;\n\n\nDO $$\nBEGIN\n-- Logica type: logicarecord481217614\nif not exists (select 'I(am) :- I(think)' from pg_type where typname = 'logicarecord481217614') then create type logicarecord481217614 as (r logicarecord893574736); end if;\n-- Logica type: logicarecord86796764\nif not exists (select 'I(am) :- I(think)' from pg_type where typname = 'logicarecord86796764') then create type logicarecord86796764 as (s text); end if;\n-- Logica type: logicarecord884343024\nif not exists (select 'I(am) :- I(think)' from pg_type where typname = 'logicarecord884343024') then create type logicarecord884343024 as (arg numeric, value numeric); end if;\nEND $$;\n"
 ],
 "schema": "logica_rb.plan.v1"
}
